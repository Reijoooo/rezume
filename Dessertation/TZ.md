**Разработка и согласование ТЗ на модуль обработки потокового видео.**

**Примерная структура ТЗ:**

1. **Описание проекта**

   1.1 **Цель проекта**

         Создание модуля, способного анализировать потоковое видео и формировать уведомления при обнаружении определенных событий. 


2. **Требования к модулю обработки потокового видео**

         2.1. Поддержка протокола RTSP или HTTP Live Streaming

         2.2. Разработка на языке Python

         2.3. Модуль должен автоматически определять события по заданным паттернам, такие как приезд мусорной машины, очистка мусорных баков, нахождение человека в опасной зоне и т.д.

         2.4. Предоставлять возможность добавления новых паттернов.

         2.5. При обнаружении событий по заданным паттернам модуль должен формировать уведомления и записывать их в базу данных.



3. **Описание паттернов**


   3.1. Паттерн 1: Зафиксировать время приезда мусорной машины и очистки мусорных баков

      3.1.1. Описание задачи

      3.1.2. Требования к реализации

      3.1.3. Ожидаемые результаты


   3.2. Паттерн 2: Зафиксировать время нахождения человека в опасной зоне

      3.2.1. Описание задачи

      3.2.2. Требования к реализации

      3.2.3. Ожидаемые результаты


4. Тестирование

         4.1. План тестирования модуля
      
         4.2. Описание ожидаемых результатов тестирования


5. Требования к документации

         5.1. Описание работы модуля
      
         5.2. Инструкции по установке и настройке
      
         5.3. Руководство пользователя


6. Планирование

         6.1. План-график разработки модуля
      
         6.2. Оценка затрат временных ресурсов

-----------------------------------------------------------------------------------

**Модуль предиктивной аналитики, предупреждающий о возможных авариях на ранней стадии на основе анализа данных**

**Примерная структура ТЗ:**

1. Введение

   1.1 **Цель проекта**

         Создание модуля предиктивной аналитики, который будет анализировать данные с контроллеров и приборов учета и предупреждать о возможных авариях на ранней стадии. 

   1.2 **Контекст проекта**

         Модуль периодически загружает данные с различных источников, проводить анализ данных с использованием алгоритмов машинного обучения или статистических методов, определяет паттерны и аномалии в данных, а также генерирует предупреждения или уведомления о возможных авариях.


2. **Функциональные требования**

          2.1. Модуль должен быть разработан на языке Python и интегрирован с существующей системой управления и мониторинга.
      
          2.2. Модуль должен обрабатывать данные с контроллеров и приборов учета, анализировать их и выявлять возможные проблемы. На текущий момент модуль должен подключаться к существующей базе данных MS SQL.
      
          2.3. Модуль должен проводить анализ полученных данных с использованием алгоритмов машинного обучения или статистических методов. Надо определить какие методы и подходы позволят решить задачу.

    2.4. **Определение паттернов и аномалий**

         - Модуль должен определять паттерны и аномалии в данных, которые могут указывать на возможные аварии. Необходимо уметь фильтровать не релевантные значения.

         - Алгоритмы должны быть способны выявлять аномалии в данных и предсказывать 

   2.5. **Генерация предупреждений и уведомлений**

         - Модуль должен генерировать предупреждения или уведомления о возможных авариях на основе анализа данных и записывать их в базу данных.

         - Модуль должен уведомлять оператора о возможных авариях на ранней стадии, предоставляя детальную информацию о проблеме и рекомендации по ее устранению.

         - Уведомления должны рассылаться через телеграмм и email бота по конфигурируемым шаблонам сообщений.


3. **Тестирование**

         3.1. План тестирования модуля

         3.2. Описание ожидаемых результатов тестирования


4. **Требования к документации**

         4.1. Описание работы модуля

         4.2. Инструкции по установке и настройке

         4.3. Руководство пользователя


5. **Планирование**

         5.1. План-график разработки модуля

         5.2. Оценка затрат временных ресурсов


-----------------------------------------------------------------------------------

**Ориентировочные сроки**

      - Разработка технической спецификации и проектирование архитектуры модуля (1 месяц).
      
      - Разработка модуля и тестирование (4 месяца).

      - Интеграция модуля с существующей системой (2 месяца).
      
      - Тестирование работы модуля и внесение необходимых корректировок (2 месяца). 


-----------------------------------------------------------------------------------

**Перечень аварий, регистрируемых в ИТП (индивидуальный тепловой пункт: ОТОПЛЕНИЕ, ГВС).**

      1.	Пропадание связи с контроллером.

      2.	Показания уличной температуры вышли за пределы -50 +50 градусов.

      3.	Показания температуры подающего теплоносителя вышли за пределы 0 - 150 градусов.

      4.	Показания температуры возвращаемого теплоносителя вышли за пределы 0 - 150 градусов.

      5.	Показания подающего теплоносителя ниже, чем показания возвращаемого теплоносителя (только в отопительный период).

      6.	Показания подающего теплоносителя отличается более чем на 5(10) градусов от температурного графика.

      7.	Показания возвращаемого теплоносителя отличается более чем на 5(10) градусов от температурного графика.

      8.	Показания температуры смеси отличается более чем на 5(10) градусов от температурного графика.

      9.	Показания температуры ГВС (горячего водоснабжения) отличается более чем на 5(10) градусов от температурного графика.

      10.	Давление в системе подающего теплоносителя ниже 1 Атм (защита от сухого хода). При наличии датчиков давления.

      11.	Давление в системе возвращаемого теплоносителя ниже 1 Атм (защита от сухого хода). 

      12.	Давление до циркуляционных насосов отопления ниже 1 Атм (защита от сухого хода). 

      13.	Давление до циркуляционных насосов ГВС ниже 1 Атм (защита от сухого хода).

      14.	Отсутствует перепад давления на циркуляционных насосах отопления. Измеряется либо реле давления, либо датчиками давления при их наличии.

      15.	Отсутствует перепад давления на циркуляционных насосах ГВС. Измеряется либо реле давления, либо датчиками давления при их наличии.

      16.	Перепад давления между подающим и возвращаемым трубопроводом ниже установленного предела dP1. Измеряется датчиками давления при их наличии.

      17.	Сработала авария отопления. Выход контроллера с предустановленной программой (например ОВЕН ТРМ1032).


-----------------------------------------------------------------------------------

**Аварии при получении данных с приборов учёта тепловой энергии**

      1.	Расход М1 ниже нижнего допустимого предела расходомера.

      2.	Расход М2 ниже нижнего допустимого предела расходомера.

      3.	Расход М1 выше верхнего допустимого предела расходомера.

      4.	Расход М2 выше верхнего допустимого предела расходомера.

      5.	Небаланс масс. Разница между показаниями М1 и М2 больше 4%.

      6.	Показания температуры подающего теплоносителя вышли за пределы 0 - 150 градусов.

      7.	Показания температуры возвращаемого теплоносителя вышли за пределы 0 – 150 градусов.


-----------------------------------------------------------------------------------

**Аварии систем приточной вентиляции**

      1.	Отключен циркуляционный насос системы приточной вентиляции.

      2.	Температуры внутреннего контура системы подогрева приточной вентиляции ниже графика на 5(10) градусов.

      3.	Температуры внутреннего контура системы подогрева приточной вентиляции ниже 30 градусов.

      4.	Пропадание связи с контроллером приточной вентиляции.

      5.	Показания уличной температуры вышли за пределы -50 +50 градусов.

      6.	Показания температуры подающего теплоносителя вышли за пределы 0 - 150 градусов.

      7.	Показания температуры возвращаемого теплоносителя вышли за пределы 0 - 150 градусов.

      8.	Показания подающего теплоносителя ниже, чем показания возвращаемого теплоносителя (только в отопительный период).

      9.	Показания возвращаемого теплоносителя отличается более чем на 5(10) градусов от температурного графика.

      10.	Давление в системе внутреннего контура системы подогрева приточной вентиляции ниже 1 Атм (защита от сухого хода). При наличии датчиков давления.

      11.	Также по показаниям датчиков давления можно выявить, закрыты ли вводные задвижки. Pвнутр. контура=Pобр, значит закрыта вводная задвижка на подающем трубопроводе.